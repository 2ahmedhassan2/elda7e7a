{% extends "material/base.html" %}
{% block title %}Quiz Result{% endblock %}
{% block content %}
<div class="container mt-4" style="max-width:800px">
  <div class="card shadow-sm">
    <div class="card-body">
      <h3 class="mb-3">{{ quiz.title }} - Result</h3>
      <p class="fs-5"><strong>Your Score:</strong> {{ correct }}/{{ total }}</p>

      {% if wrong_questions %}
        <h5 class="mt-4">Review Wrong Answers</h5>
        {% for item in wrong_questions %}
          <div class="card mb-3 border-danger-subtle">
            <div class="card-body">
              <p class="fw-bold mb-1">{{ item.question.text }}</p>
              <p class="text-danger mb-1">Your answers:
                {% for a in item.your_answers %} {{ a.text }}{% if not forloop.last %}, {% endif %}{% empty %} None {% endfor %}
              </p>
              <p class="text-success mb-0">Correct answers:
                {% for a in item.correct_answers %} {{ a.text }}{% if not forloop.last %}, {% endif %}{% endfor %}
              </p>
            </div>
          </div>
        {% endfor %}
      {% endif %}
      <a href="javascript:history.back()" class="btn btn-secondary mt-2">Back</a>
    </div>
  </div>
</div>
{% endblock %}
